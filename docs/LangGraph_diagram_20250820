graph TD
    A["ğŸš€ START"] --> B["ğŸ§­ Router Node<br/>(Hint Request?)"]
    
    B -->|"Yes<br/>(GAME_RELATED)"| C["ğŸ” Find Hint Node<br/>(RAG Chain)"]
    B -->|"No<br/>(OFF_TOPIC)"| Z["ğŸ END<br/>(Direct Response)"]
    
    C --> D["ğŸ”¬ Verify Correctness Node<br/>(LLM Fact-Check)"]
    
    D -->|"âœ… VERIFIED<br/>(Appropriate & Factual)"| E["ğŸ­ Maintain Character Node<br/>(Zelda Voice + Guardrails)"]
    D -->|"âŒ TOO_SPECIFIC<br/>HALLUCINATED<br/>INSUFFICIENT_CONTEXT"| F["âŒ Generate Error Message<br/>(Ask for Clarification)"]
    
    E --> G["ğŸ“‹ Format Output Node<br/>(Add Hint Level)"]
    G --> Z
    
    F --> Z
    
    style A fill:#e1f5fe
    style Z fill:#f3e5f5
    style B fill:#fff3e0
    style C fill:#e8f5e8
    style D fill:#fff8e1
    style E fill:#f1f8e9
    style F fill:#ffebee
    style G fill:#e3f2fd